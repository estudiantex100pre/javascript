<!DOCTYPE html>
<html>
<head>
	<title>fetch</title>
</head>
<body>
	<h1>fetch</h1>
	<input type="button" name="" value="get data" id="button">
	<ul id="list">
		
	</ul>
	<script type="text/javascript"> 
	const boton =document.getElementById("button")
	boton.addEventListener("click", ()=>{
		fetch("https://jsonplaceholder.typicode.com/users") 
		.then(res => res.ok ? Promise.resolve(res): Promise.reject(res))
		.then(res => res.json()) 
		.then(res =>{ console.log(res)
			const menu = document.getElementById('list')
			const fragment = document.createDocumentFragment()
			for(const instancia of res){
				const list = document.createElement("li")
				list.innerHTML = instancia.id + " " +instancia.name; 
				fragment.append(list) ;
			}
			menu.append(fragment) 
		})
	})

	button.addEventListener("click", ()=>{
		const newPost = {
			nombre: "gordo",
			apellido: "subero", 
			idd:5,
		}
		fetch("https://jsonplaceholder.typicode.com/users" ,{
			method: "POST",
			body: JSON.stringify(newPost),
			headers: {
				"content-type":"application/json"
			} 
		})
		.then(res => res.json())
		.then(console.log)
	})


	</script>
</body>
</html>